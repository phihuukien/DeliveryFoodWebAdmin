<!-- Preloader -->

<app-header></app-header>
<app-side-bar></app-side-bar>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->


  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0">List Restaurants</h1>
        </div><!-- /.col -->
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a routerLink="/list-restaurants">Restaurants</a></li>
            <li class="breadcrumb-item active">List Restaurants</li>
          </ol>
        </div><!-- /.col -->
      </div><!-- /.row -->
    </div><!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->

  <!-- Main content -->
  <section class="content">
    <div class="container-fluid">
      <div class="col-12">
        <div class="card">
          <!-- /.card-header -->
          <div class="card-header">
            <div class="row d-flex justify-content-between">
                <div class="col-lg-6 col-md-6 col-sm-5 flex-inline d-flex">
                    <input [(ngModel)]="textsearch" type="search" class="form-control w-50"
                        placeholder="Search..." name="textsearch" id="search" (keyup)="search()" />
                    <button (submit)="search()" type=" button"
                        class="button w-25 form-control bg-gradient-primary">Search</button>
                </div>
                <div class="col-lg-2 col-3 col-sm-2">
                    <a [routerLink]="['/create-food']" class="btn form-control bg-primary">Add</a>
                </div>
            </div>
        </div>
          <div class="card-body">
            <table id="example2" class="table table-bordered table-hover">
              <thead>
                <tr>
                  <th>STT</th>
                  <th>Name</th>
                  <th>Location(s)</th>
                  <th>Type</th>
                  <th>Distance</th>
                  <th>Time</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody >
                <tr *ngFor="let r of restaurants; index as i">
                  <td>{{i+1}}</td>
                  <td>{{r.name}} </td>
                  <td>{{r.location}}</td>
                  <td>{{r.type}}</td>
                  <td>{{r.distance}} </td>
                  <td>{{r.times}} </td>
                  <td> 
                     <button routerLink="/updateFood/{{r.id}}" type="button" class="btn btn-block bg-gradient-primary btn-sm">
                    Update
                </button>
                <button routerLink="/detailFood/{{r.id}}" type="button" class="btn btn-block bg-gradient-primary btn-sm mx-1">
                    Detail
                </button>
                <button onclick="return confirm('Do you want to delete?')" type="button" class="btn btn-block bg-gradient-danger btn-sm">
                    Delete
                </button>
              </td>
                </tr>
              </tbody>
            </table>
            <div class="card-footer clearfix">
              <ul class="pagination pagination-sm m-0 float-right">

                  <li class="page-item" *ngIf=" page > 1"><a class="page-link" style="cursor: pointer;"
                          (click)="getRestaurantsAll(textsearch,page - 1)">Â«</a></li>

                  <li class="page-item" *ngFor="let key of [].constructor(totalPages); index as i"><a
                          class="page-link" [ngClass]="page ==  i+1 ? 'checked_page' : ''"
                          style="cursor: pointer;" (click)="getRestaurantsAll(textsearch,i+1)">{{i+1}}</a></li>

                  <li class="page-item" *ngIf=" page <  totalPages "><a class="page-link"
                          style="cursor: pointer;" (click)="getRestaurantsAll(textsearch,page + 1)">
                          &raquo;</a></li>
              </ul>
          </div>
          </div>
          <!-- /.card-body -->
        </div>
      </div>
    </div><!-- /.container-fluid -->
  </section>
  <!-- /.content -->
</div>
<!-- /.content-wrapper -->
<app-footer></app-footer>
<!-- ./wrapper -->
